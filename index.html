<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
        <section>
          <h1>Failing for the right reason</h1>
          <h3>Selena Small & Michael Milewski</h3>
          <aside class="notes">
            Selena: Hi everyone, thanks for joining us today. I'm Selena and this Michael, we're going to
              talk you about...

            Michael: "Failing for the right reason!" - how to write tests that fail and drive out a perfect design
              for your software

            Selena: and it's going to be a great time. Are you guys excited? I'm excited! Where do we start?!

              Michael: Well... I've been thinking about it and I've come up with this great idea for an app!! People are gonna love it

              Selena: Oh yeah...? That only took you what? 20 years?

              Michael: haha fuck off
          </aside>
        </section>

        <section>
          <h3>An idea for an app</h3>

          <aside class="notes">
            Michael: So, the idea is a guessing game! (michael run through rough diagram/explanation while Selena questions it)

            Selena: Alright cool, let's build it!

            Michael: OK sweet, I think I have an idea on how the DB schema might fit together. There's going
              to be a Game object and Rounds and some sort of Score for the players, I presume I will need
              an image display react component, a timer and an input form, so I'll just start smashing that
              together and see where we get to...

            Selena: Wait, what? aren't we TDDing this? You need to start with a test.

            Michael: What at the beginning? before I write any code? but I don't know where I'm going.
              Why the fuck would I do that?
          </aside>
        </section>

        <section>
          <h1>Why testing matters</h1>
          <aside class="notes">
              (Selena explains to the Junior dev why TDD matters & why you would start with a test)
            Analogy? If you could stop time and know the acceleration and mass
            of every particle in space you could predict the future.

            So with software, time does not stop and you are dreaming to have
            this amazing control of predicting the need of users, the browsers
            they will have, the various bugs that will bump various library
            versions, how users abuse the features you have and how priorities
            will change and features maybe even whole company strategies may
            pivot.

            And that is why you need testing, to know at any point in time that
            what you wanted to work a particular way, still works that way. And
            the easiest way to make sure your tests are relatively simple to
            write and your code is easy to reason about is to write the tests
            first, have them drive out the code required, have them "Design"
            the code you need Test Driven Design.
          </aside>
        </section>

        <section>
          <h1>The biggest Unit</h1>
          <aside class="notes">
              Michael: Ohhhh so I need to start by testing the biggest unit. Well, that's obviously the Game object...

              Selena: Obviously not. No, let's go back to your drawing and take a closer look. See here, you've already
              drawn it out. This thing interacts with that thing and another thing through an API. And you're probably
              going to display it all using some sort of front end - have you thought about the tech stack?

              Michael: Yes. This part will be react, the API will be exposed from a Rails backend which talks to a
              Postgres database. OHHH I get it now! This whole thing is a unit! Because this thing interacts with that
              thing and another thing through an API. And that will all be displayed in a SPA

              Selena: Now you're getting it!


            What's a unit anyway?
            TDD vs BDD?
            RSpec
            the stack? or is that part of emergent architecture?
          </aside>
        </section>
        <section>
          <h1>Lifecycle Flow Spec</h1>
          <section>
<pre><code data-trim data-noescape>
feature 'Michael plays a game of images 2 text', js: true do
  scenario 'Michael plays a perfect game' do
    When 'Michael starts a new game' do
      visit root_path
      focus_on(:welcome).start_new_game
    end
    ...
</code></pre>
          <aside class="notes">
            Michael:
              Oh cool let me add this spec for a guess with a typo ...
            Selena:
              STOP flow specs have the following responsibilities ... and your
              idea of another spec is a layer down

              Explain step by step how it is like a flow, follow along with
              code snippets and slides showing the action in the game.
          </aside>
          </section>
        </section>
        <section>
          <h3>Lifecycle Flow Spec - Summary</h3>
          <ul>
            <li>what is the unit</li>
            <li>what are we testing and not testing</li>
            <li>Examples of testing and not testing</li>
          </ul>
        </section>
        <section>
          <h1>Down a level - mechanics</h1>
          <aside class="notes">
            Selena:
              So you wanted to do a spec of a typo, move over let me pair and show you how ...
              STOP! actually junior at the keyboard, you type
            Michael:
              cool so I type ...
          </aside>
        </section>
        <section>
          <h1>Front End components</h1>
          <aside class="notes">
            How to decide what to test in mechanic vs FE component
            Michael:
              Cool it looks good on the page, back up to the mechanic - ahh but the test still does not pass!???
            Selena:
              Keep your cool, it is layered and iterative, for each layer we go
              down to the next layer. Only when we get to the bottom of the
              onion of layers can we walk back up the tests and see everything
              pass.
          </aside>
        </section>
        <section>
          <h1>API acceptance specs</h1>
          <aside class="notes">
            * Integration
            * Controller
            * Serializer
          </aside>
        </section>
        <section>
          <h1>Controller specs</h1>
          <aside class="notes">
            Fresho vs the RSpec rails way
          </aside>
        </section>
        <section>
          <h1>Model - unit and DB integration specs</h1>
          <aside class="notes">
            * group of models that represent a domain concpet
            * Dan what does he hate at this level? call backs?
            * Testing active record or not?
            * Ryan Bigg exploding rails? any input
          </aside>
        </section>
        <section>
          <h1>External integration specs</h1>
        </section>
        <section>
          <section>
            <h1>Summary</h1>
          </section>
          <section>
            <h1>Test Drive DESIGN</h1>
            <aside class="notes">
              * example of what is Driven and what is Designed
              * How to decide what to test and at what level?
              * where to expect things to fail and where not to?
            </aside>
          </section>
          <section>
            <h1>How to decide what to test</h1>
            <aside class="notes">
              * How to decide what to test and at what level?
              * where to expect things to fail and where not to?
            </aside>
          </section>
          <section>
            <h1>Everything is a unit</h1>
            <aside class="notes">
              ¯\_(ツ)_/¯
            </aside>
          </section>
        </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
